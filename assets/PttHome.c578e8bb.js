import{o as n,c as l,a as t,t as o,_ as g,d as b,r as y,F as m,b as x,e as k,f as r,g as w,M as $,p as C,h as B,i as L,j as M,u as T}from"./index.39382f04.js";const H={class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},I={class:"modal-dialog"},j={class:"modal-content"},S=t("div",{class:"modal-header"},[t("h5",{class:"modal-title text-primary",id:"staticBackdropLabel"},"\u8A0A\u606F"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),N={class:"modal-body"},P={class:"p-2"},V=["innerHTML"],E=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1),F={__name:"Card",props:{data:Object},emits:["active"],setup(e){return(d,i)=>(n(),l("div",H,[t("div",I,[t("div",j,[S,t("div",N,[t("div",P,[t("p",null,"\u4F5C\u8005: "+o(e.data.author),1),t("p",null,"\u6A19\u984C: "+o(e.data.title),1),t("p",null,"\u6642\u9593: "+o(e.data.releaseTime),1)]),t("div",{class:"p-2",innerHTML:e.data.conent},null,8,V)]),E])])]))}};const R=b({components:{Card:F},setup(){const{proxy:e}=M();T();let d=r([]),i=r({}),u=r(null),p=r(1);w(()=>{c(),u.value=new $(document.getElementById("staticBackdrop"),{keyboard:!1}),window.onscroll=v(c,1e3)});function v(s,_){var h=!0;return function(K){h&&setTimeout(()=>{window.scrollY+window.innerHeight>=document.body.offsetHeight-100&&(p.value++,s.apply(this,arguments)),h=!0},_),h=!1}}async function c(){const s="https://protected-chamber-55237.herokuapp.com/ptt/getList";e.$http.get(s,{params:{page:p.value}}).then(_=>{d.value=d.value.concat(_.data.data)})}function a(s){i.value=s,u.value.show()}return{text:d,article:a,data:i}}}),f=e=>(C("data-v-55d34562"),e=e(),B(),e),D={class:"w-100 MtMargin bg-info"},G={class:"header pt-4"},O=f(()=>t("h3",{class:"w-100 text-center text-success"},"Stock PTT",-1)),Y=["onClick"],q={key:0},z=["src","alt"],A=f(()=>t("div",{class:"d-flex justify-content-center"},[t("div",{class:"spinner-border",role:"status"},[t("span",{class:"visually-hidden"},"Loading...")])],-1));function J(e,d,i,u,p,v){const c=y("Card");return n(),l(m,null,[t("div",D,[t("div",G,[O,(n(!0),l(m,null,x(e.text,a=>(n(),l("div",{key:a,class:"d-flex justify-content-center"},[t("div",{class:"bg-white w-75 d-flex justify-content-between mt-2",onClick:s=>e.article(a)},[t("div",null,[t("p",null,"\u4F5C\u8005: "+o(a.author),1),t("p",null,"\u6A19\u984C: "+o(a.title),1),t("p",null,"\u6642\u9593: "+o(a.releaseTime),1)]),a.imgList.length>0?(n(),l("div",q,[t("img",{src:a.imgList[0],alt:a.title},null,8,z)])):L("",!0)],8,Y)]))),128))]),A]),k(c,{id:"staticBackdrop",data:e.data},null,8,["data"])],64)}var U=g(R,[["render",J],["__scopeId","data-v-55d34562"]]);export{U as default};
